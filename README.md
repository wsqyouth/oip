# OIP - è·¨å¢ƒè®¢å•æ™ºèƒ½è¯Šæ–­å¹³å°

> Order Intelligence Platform - AI-Powered Order Diagnosis System

## é¡¹ç›®æ¦‚è¿°

OIP æ˜¯ä¸€ä¸ªè½»é‡çº§çš„è·¨å¢ƒè®¢å•æ™ºèƒ½è¯Šæ–­ SaaS å¹³å°ï¼Œä¸ºä¸­å°è·¨å¢ƒå–å®¶æä¾›ï¼š
- âœ… æ ‡å‡†åŒ–è®¢å•æ¥å…¥
- âœ… æ™ºèƒ½è¯Šæ–­ï¼ˆç‰©æµè´¹ç‡ + å¼‚å¸¸æ£€æµ‹ï¼‰
- âœ… æ•°æ®å¯è§†åŒ–å±•ç¤º

## é¡¹ç›®ç»“æ„

```
oip/
â”œâ”€â”€ README.md                    # é¡¹ç›®æ€»è§ˆï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”‚
â”œâ”€â”€ .claude/                     # Claude AI åä½œé…ç½®ï¼ˆå…¨å±€ï¼‰
â”‚   â”œâ”€â”€ knowledge/               # çŸ¥è¯†åº“
â”‚   â”‚   â”œâ”€â”€ architecture.md      # æ¶æ„ç†è§£
â”‚   â”‚   â”œâ”€â”€ coding-standards.md # ä»£ç è§„èŒƒ
â”‚   â”‚   â””â”€â”€ common-mistakes.md  # å¸¸è§é”™è¯¯
â”‚   â”œâ”€â”€ commands/                # Slash å‘½ä»¤
â”‚   â”‚   â””â”€â”€ commit-push.sh       # ä¸€é”®æäº¤æ¨é€
â”‚   â””â”€â”€ hooks/                   # é’©å­è„šæœ¬
â”‚       â””â”€â”€ post-tool-use.sh     # ä»£ç å®Œæˆåæ£€æŸ¥
â”‚
â”œâ”€â”€ backend/                     # åç«¯é¡¹ç›®ï¼ˆå½“å‰å¼€å‘é‡ç‚¹ï¼‰
â”‚   â”œâ”€â”€ .claude.md               # åç«¯ä¸Šä¸‹æ–‡å…¥å£ï¼ˆâ­ AI å¿…è¯»ï¼‰
â”‚   â”œâ”€â”€ PRD.md                   # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ stories/                 # ä»»åŠ¡æ‹†åˆ†
â”‚   â”‚   â”œâ”€â”€ _template.md         # Story æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ story-001-*.md       # å…·ä½“ä»»åŠ¡
â”‚   â”œâ”€â”€ docs/                    # å¼€å‘æ–‡æ¡£
â”‚   â”œâ”€â”€ common/                  # å…±äº«å†…æ ¸ï¼ˆEntity, DAO, Modelï¼‰
â”‚   â”œâ”€â”€ dpmain/                  # åŒæ­¥ API æœåŠ¡
â”‚   â”œâ”€â”€ dpsync/                  # å¼‚æ­¥ Worker æœåŠ¡
â”‚   â””â”€â”€ ... (å…¶ä»–åç«¯ä»£ç )
â”‚
â””â”€â”€ frontend/                    # å‰ç«¯é¡¹ç›®ï¼ˆåç»­å¼€å‘ï¼‰
    â”œâ”€â”€ .claude.md               # å‰ç«¯ä¸Šä¸‹æ–‡å…¥å£
    â”œâ”€â”€ PRD.md                   # å‰ç«¯éœ€æ±‚
    â””â”€â”€ stories/                 # å‰ç«¯ä»»åŠ¡
```

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Go 1.21+
- Docker & Docker Compose
- Make

### åç«¯å¼€å‘

```bash
# 1. è¿›å…¥åç«¯ç›®å½•
cd backend

# 2. å¯åŠ¨åŸºç¡€è®¾æ–½ï¼ˆMySQL + Redis + Lmstfyï¼‰
docker-compose up -d

# 3. æ„å»ºæœåŠ¡
make build

# 4. è¿è¡Œ API æœåŠ¡
make run-dpmain

# 5. è¿è¡Œ Worker æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
make run-dpsync
```

### AI åä½œæµç¨‹

#### æ–°å¼€ Claude ä¼šè¯æ—¶ï¼š
```
1. è®© Claude è¯»å– backend/.claude.md
2. æ ¹æ®éœ€è¦è¯»å– PRD.md æˆ–å…·ä½“ Story
3. å¼€å§‹ Plan æ¨¡å¼å¯¹é½
4. å®ç°åŠŸèƒ½
5. æ›´æ–° Story çŠ¶æ€
```

#### æäº¤ä»£ç ï¼š
```bash
# æ–¹å¼ 1: å¢å¼ºç‰ˆæ™ºèƒ½æäº¤ï¼ˆæ¨è - æ”¯æŒ rebaseã€amend ç­‰ï¼‰
./.claude/commands/commit.sh "feat: åŠŸèƒ½æè¿°"
./.claude/commands/commit.sh "feat: åŠŸèƒ½æè¿°" --rebase       # rebase åæäº¤
./.claude/commands/commit.sh "feat: åŠŸèƒ½æè¿°" --rebase --push # å®Œæ•´è‡ªåŠ¨åŒ–

# æ–¹å¼ 2: ç®€åŒ–ç‰ˆå¿«æ·æäº¤
./.claude/commands/commit-push.sh "feat: åŠŸèƒ½æè¿°"
```

## æ ¸å¿ƒæŠ€æœ¯æ ˆ

### åç«¯
- **è¯­è¨€**: Go 1.21+
- **Web æ¡†æ¶**: Gin
- **ORM**: GORM
- **ä¾èµ–æ³¨å…¥**: Wire
- **æ¶ˆæ¯é˜Ÿåˆ—**: Lmstfy
- **æ•°æ®åº“**: MySQL 8.0
- **ç¼“å­˜/é€šçŸ¥**: Redis 7.0
- **æ—¥å¿—**: Zap

### å‰ç«¯ï¼ˆè§„åˆ’ä¸­ï¼‰
- **æ¡†æ¶**: React
- **UI åº“**: Ant Design
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit
- **æ„å»ºå·¥å…·**: Vite

## æ¶æ„è®¾è®¡

### æœåŠ¡æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      å•†å®¶ç³»ç»Ÿ / ç”¨æˆ·            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ HTTP API
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   dpmain     â”‚ (åŒæ­¥ API æœåŠ¡)
    â”‚   :7777      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 1. è®¢é˜… Redis
           â”‚ 2. æ¨é€ Lmstfy
           â”‚ 3. Smart Wait (10s)
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Redis + MySQL       â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†‘
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   dpsync     â”‚ (å¼‚æ­¥ Worker)
    â”‚   :7778      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DDD åˆ†å±‚ï¼ˆdpmainï¼‰
```
domains/               # é¢†åŸŸå±‚
  â”œâ”€â”€ entity/         # èšåˆæ ¹
  â”œâ”€â”€ apimodel/       # API æ¨¡å‹
  â”œâ”€â”€ modules/        # ä¸šåŠ¡ç¼–æ’
  â”œâ”€â”€ repo/           # ä»“å‚¨æ¥å£
  â””â”€â”€ services/       # é¢†åŸŸæœåŠ¡

infra/                # åŸºç¡€è®¾æ–½å±‚
  â”œâ”€â”€ persistence/    # æŒä¹…åŒ–
  â””â”€â”€ mq/             # æ¶ˆæ¯é˜Ÿåˆ—

server/               # æœåŠ¡å™¨å±‚
  â”œâ”€â”€ handlers/       # HTTP å¤„ç†
  â”œâ”€â”€ routers/        # è·¯ç”±
  â””â”€â”€ middlewares/    # ä¸­é—´ä»¶
```

## å¼€å‘è¿›åº¦

### å·²å®Œæˆ âœ…
- [x] é¡¹ç›®ç»“æ„è®¾è®¡
- [x] AI åä½œä½“ç³»æ­å»º
- [x] PRD ç¼–å†™
- [x] Story æ¨¡æ¿åˆ›å»º
- [x] çŸ¥è¯†åº“åˆå§‹åŒ–

### è¿›è¡Œä¸­ ğŸ”„
- [ ] Story-001: åŸºç¡€è®¾æ–½æ­å»º
- [ ] Story-002: Account API å®ç°

### å¾…å¼€å§‹ â³
- [ ] Story-003: Order æ¥å…¥ API
- [ ] Story-004: Smart Wait æœºåˆ¶
- [ ] Story-005: dpsync Worker æ¡†æ¶
- [ ] Story-006: è¯Šæ–­é€»è¾‘å®ç°
- [ ] Story-007: å‰ç«¯å¼€å‘

## AI åä½œæ–¹æ³•è®º

æœ¬é¡¹ç›®å®è·µäº† **Claude Code ä¹‹çˆ¶ Boris Cherny** çš„ AI åä½œæ–¹æ³•è®ºï¼š

### æ ¸å¿ƒå®è·µ
1. â­ **`.claude.md`** - AI çš„é¡¹ç›®"è¯´æ˜ä¹¦"ï¼Œæ¯æ¬¡æ–°ä¼šè¯å¿…è¯»
2. â­ **Plan æ¨¡å¼å…ˆè¡Œ** - å†™ä»£ç å‰å…ˆå¯¹é½æ–¹æ¡ˆ
3. â­ **çŸ¥è¯†åº“æ²‰æ·€** - æ¯æ¬¡é”™è¯¯éƒ½è®°å½•åˆ° `common-mistakes.md`
4. â­ **Story é©±åŠ¨** - ä»»åŠ¡æ‹†åˆ†ã€å¹¶è¡Œå¼€å‘ã€è¿›åº¦å¯è§†åŒ–
5. â­ **è‡ªåŠ¨åŒ–å‘½ä»¤** - Slash å‘½ä»¤å°è£…é«˜é¢‘æ“ä½œ

### æ–‡ä»¶è¯´æ˜
- **`backend/.claude.md`**: AI ä¸Šä¸‹æ–‡å…¥å£ï¼ˆ30ç§’å¿«é€Ÿç†è§£é¡¹ç›®ï¼‰
- **`backend/PRD.md`**: äº§å“éœ€æ±‚æ–‡æ¡£ï¼ˆç†è§£åšä»€ä¹ˆï¼‰
- **`backend/stories/`**: ä»»åŠ¡æ‹†åˆ†ï¼ˆPlan â†’ Implement â†’ Verifyï¼‰
- **`.claude/knowledge/`**: å›¢é˜ŸçŸ¥è¯†åº“ï¼ˆæŒç»­å­¦ä¹ ï¼‰
- **`.claude/commands/`**: è‡ªåŠ¨åŒ–å‘½ä»¤ï¼ˆæå‡æ•ˆç‡ï¼‰

## è´¡çŒ®æŒ‡å—

### å·¥ä½œæµç¨‹
```
1. ä» PRD ä¸­é€‰æ‹©ä¸€ä¸ªåŠŸèƒ½
2. åˆ›å»ºå¯¹åº”çš„ Story æ–‡ä»¶ï¼ˆåŸºäº _template.mdï¼‰
3. å¼€å¯ Claude ä¼šè¯ï¼ŒPlan æ¨¡å¼å¯¹é½
4. å®ç°åŠŸèƒ½ï¼ˆTDD ä¼˜å…ˆï¼‰
5. è¿è¡Œæµ‹è¯•å’Œæ£€æŸ¥
6. ä½¿ç”¨ commit-push.sh æäº¤
7. æ›´æ–° Story çŠ¶æ€
8. ç§¯ç´¯é”™è¯¯åˆ°çŸ¥è¯†åº“
```

### åˆ†æ”¯ç­–ç•¥
- `main`: ç”Ÿäº§ç¯å¢ƒ
- `develop`: å¼€å‘ç¯å¢ƒ
- `feature/story-XXX`: åŠŸèƒ½åˆ†æ”¯

### Commit Message è§„èŒƒ
```
<type>(<scope>): <subject>

feat: æ–°åŠŸèƒ½
fix: Bug ä¿®å¤
refactor: é‡æ„
docs: æ–‡æ¡£
test: æµ‹è¯•
```

## ç›¸å…³é“¾æ¥

- [åç«¯å¼€å‘æ–‡æ¡£](backend/.claude.md)
- [åç«¯ PRD](backend/PRD.md)
- [æ¶æ„è®¾è®¡](backend/ARCHITECTURE.md)
- [Claude Code å®˜ç½‘](https://claude.com/claude-code)

## License

MIT

## è”ç³»æ–¹å¼

- **é¡¹ç›®è´Ÿè´£äºº**: cooperswang
- **åˆ›å»ºæ—¥æœŸ**: 2026-01-06
- **æœ€åæ›´æ–°**: 2026-01-06

---

**ğŸ¤– Built with Claude Code - AI-Powered Development**
